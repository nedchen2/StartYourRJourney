
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter 2. R basics &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '02-R-start';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Chapter 1. R: The Beginning of Your Data Journey" href="01-R-start.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your R programming journey
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-R-start.html">Chapter 1. R: The Beginning of Your Data Journey</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 2. R basics</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/nedchen2/StartYourRJourney" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/nedchen2/StartYourRJourney/issues/new?title=Issue%20on%20page%20%2F02-R-start.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/02-R-start.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 2. R basics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-introduction">2.1 Basic Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-variables">2.1.1 R variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-name-your-variables">2.1.2 R name your variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-functions">2.1.3 R functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-data-types">2.1.4 R Data types</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-vector-matrix-dataframe-lists">2.2 R Vector, Matrix, Dataframe, Lists</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectors">2.2.1 Vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrices-and-arrays">2.2.2 Matrices and arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frames">2.2.3 Data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#formula-used-in-r">Formula used in R</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#case-exercise-2-the-first-statistics">Case Exercise 2. The first statistics</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">2.2.4 Lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrix-vs-dataframe">2.2.5 Matrix vs Dataframe</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-for-your-first-complex-coding-mission">2.3 Preparing for your first complex coding mission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-and-exporting-data">2.3.1 Importing and Exporting Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flow-control">2.3.2 Flow control</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-else-statement">2.3.2.1 If-else statement</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">2.3.2.2 For-loops</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#define-functions">2.3.2.3 Define functions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#more">More</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-manipulation">2.3.3 String manipulation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#case-exercise-3-dna-sequence-alignment">Case Exercise 3. DNA Sequence alignment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-reading">2.4 Further reading</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-r-packages">Some useful R packages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-online-tutorial">Some useful online tutorial</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-2-r-basics">
<h1>Chapter 2. R basics<a class="headerlink" href="#chapter-2-r-basics" title="Link to this heading">#</a></h1>
<section id="basic-introduction">
<h2>2.1 Basic Introduction<a class="headerlink" href="#basic-introduction" title="Link to this heading">#</a></h2>
<p>After reading the previous chapter, you should already have a basic understanding of how R and Rstudio operate. Lets get started with some R basics.</p>
<section id="r-variables">
<h3>2.1.1 R variables<a class="headerlink" href="#r-variables" title="Link to this heading">#</a></h3>
<p>In a R session, you will need to utilize “variables” to store data. Every variable occupies “real estate” in your computer’s memory <a class="reference external" href="https://en.wikipedia.org/wiki/Random-access_memory">RAM</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">8</span><span class="w">  </span><span class="c1"># store 8 as variable a</span>
</pre></div>
</div>
</div>
</div>
<p>Note that any text after a “#” is ignored by R</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Well-placed comments can help people (include you) to understand the functionality of the code</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="c1"># display it</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">8</div></div>
</div>
<p>do simple calculation between variables</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a_squared</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a_squared</span><span class="w"> </span><span class="c1"># display it</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">64</div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>R uses the <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> <a class="reference external" href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">operator to assign variables</a>. “=” can also work, but <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> is perfered</p>
</div>
</section>
<section id="r-name-your-variables">
<h3>2.1.2 R name your variables<a class="headerlink" href="#r-name-your-variables" title="Link to this heading">#</a></h3>
<p>In R, you can name variables in the following way to keep track of related variables:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># my var = 1 # This name is not valid, so do not use space in naming</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="r-functions">
<h3>2.1.3 R functions<a class="headerlink" href="#r-functions" title="Link to this heading">#</a></h3>
<p>R have some pre-built functions for different functionality. But you can also defined your own function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">sqrt</span><span class="p">(</span><span class="n">a_squared</span><span class="p">)</span><span class="w"> </span><span class="c1"># square root</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">8</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">log</span><span class="p">(</span><span class="w"> </span><span class="n">a_squared</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="c1"># log2 transformed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">6</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">BMI_index</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">weight_in_kg</span><span class="p">,</span><span class="w"> </span><span class="n">height_in_m</span><span class="p">){</span>
<span class="w">   </span><span class="n">weight_in_kg</span><span class="o">/</span><span class="n">height_in_m</span><span class="o">^</span><span class="m">2</span><span class="w"> </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">BMI_index</span><span class="p">(</span><span class="m">65</span><span class="p">,</span><span class="w"> </span><span class="m">1.7</span><span class="p">)</span><span class="w"> </span><span class="c1"># Have a try on your own data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">22.4913494809689</div></div>
</div>
</section>
<section id="r-data-types">
<h3>2.1.4 R Data types<a class="headerlink" href="#r-data-types" title="Link to this heading">#</a></h3>
<p>R have different types of variables including numeric numbers, character strings, and other more advanced types such as factor, Boolean (“logical”; <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>), and data frame.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">class</span></code> helps us determine what type of object we have:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'numeric'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">bol</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">TRUE</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="n">bol</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'logical'</div></div>
</div>
<p>also, try is.*() function to check whether the input variable is certain type of data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">is.logical</span><span class="p">(</span><span class="n">bol</span><span class="p">)</span><span class="w"> </span><span class="c1"># Try &quot;TAB&quot; after &quot;is.&quot; to see how many functions you find</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">TRUE</div></div>
</div>
<p>You can also use as.*() function to do input data type conversion</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="m">3.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'numeric'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.integer</span><span class="p">(</span><span class="m">3.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="nf">as.integer</span><span class="p">(</span><span class="m">3.1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'integer'</div></div>
</div>
<p>Data type coversion should be used with caution. This procedure is typically not advised for beginners due to the potential for unclear or imprecise conversions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.logical</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">FALSE</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">as.logical</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">TRUE</div></div>
</div>
<p><em>What just happened?!</em> R maps all values other than <code class="docutils literal notranslate"><span class="pre">0</span></code> to logical <code class="docutils literal notranslate"><span class="pre">True</span></code>, and <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>. This can be useful in some cases, for example, when you want to convert all your data to Presence-Absence only.</p>
</section>
</section>
<section id="r-vector-matrix-dataframe-lists">
<h2>2.2 R Vector, Matrix, Dataframe, Lists<a class="headerlink" href="#r-vector-matrix-dataframe-lists" title="Link to this heading">#</a></h2>
<p>Up to now, the variables we have defined contains only one number. This is not very useful for big data analysis. R has different built-in structures (objects) for data manipulation and more advanced computation.</p>
<section id="vectors">
<h3>2.2.1 Vectors<a class="headerlink" href="#vectors" title="Link to this heading">#</a></h3>
<p>The Vector is a fundamental data object / structure in R. <em>A vector is like a single column or row in a spreadsheet.</em></p>
<p>Build a vector with <code class="docutils literal notranslate"><span class="pre">c</span></code> (stands for “<code class="docutils literal notranslate"><span class="pre">c</span></code>oncatenate”):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="w"> </span><span class="c1"># Display the vector you have just created</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>4</li><li>8</li><li>16</li></ol>
</div></div>
</div>
<p>Similarly, use is.* to check the data types.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">is.vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="c1"># check if v&#39;s a vector</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">TRUE</div></div>
</div>
<p>You can do operations on vector as well</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">log</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">mean</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="c1"># mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">6.2</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">length</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="c1"># how many elements</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">5</div></div>
</div>
<p>Numeric indexing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="c1"># select the first element</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">1</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.02</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="n">v1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>0.02</li><li>1</li><li>1</li></ol>
</div></div>
</div>
<p>TRUE get converted to 1, why?</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>R vectors (and matrix, array) can only store data of a single type (e.g., all numeric or all character). Attempting to merge different data types will prompt R to standardize everything to a single data type. This phenomenon is also called as <em>Coercion</em>.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">names</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;myfirstelement&quot;</span><span class="p">,</span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="s">&quot;3&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># You can give name to each elements, through names() function</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v1</span><span class="w"> </span><span class="c1">#display</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>myfirstelement</dt><dd>0.02</dd><dt>2</dt><dd>1</dd><dt>3</dt><dd>1</dd></dl>
</div></div>
</div>
<p>Or you can directly create a named vector by doing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Ned&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyAge&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Unknown&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyJob&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Student&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>After giving name to the vector, you can do name indexing rather than numeric indexing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v2</span><span class="p">[</span><span class="s">&quot;MyAge&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><strong>MyAge:</strong> 'Unknown'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v1</span><span class="p">[</span><span class="s">&quot;myfirstelement&quot;</span><span class="p">]</span><span class="w"> </span><span class="c1"># display</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><strong>myfirstelement:</strong> 0.02</div></div>
</div>
<p>In empirical cases, you will normally have a vector with unsorted order, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2020</span><span class="p">,</span><span class="m">2012</span><span class="p">,</span><span class="m">2030</span><span class="p">,</span><span class="m">2024</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>How to order it from low to high? (clue: ?sort(), ?order())</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">sort</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span><span class="w"> </span><span class="c1"># you can complete by sort()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2012</li><li>2020</li><li>2024</li><li>2030</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v3</span><span class="p">[</span><span class="nf">order</span><span class="p">(</span><span class="n">v3</span><span class="p">)]</span><span class="w"> </span><span class="c1"># order return the ordered index like the numerical indexing mentioned previously </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2012</li><li>2020</li><li>2024</li><li>2030</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">order</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span><span class="w"> </span><span class="c1"># for example, according to the order() function the smallest number should be the second place of the vector, let&#39;s try</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>1</li><li>4</li><li>3</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v3</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="c1"># Is it?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">2012</div></div>
</div>
<p>You can also do subsetting (indexing) by the logical value, for example, we want to only retain the year &lt;= 2024:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">logical_vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="kc">TRUE</span><span class="p">,</span><span class="kc">FALSE</span><span class="p">,</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v3</span><span class="p">[</span><span class="n">logical_vector</span><span class="p">]</span><span class="w"> </span><span class="c1"># You see, the FALSE in the third position leads to removal of 2030</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2020</li><li>2012</li><li>2024</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v3</span><span class="p">[</span><span class="w"> </span><span class="n">v3</span><span class="o">&lt;=</span><span class="w"> </span><span class="m">2024</span><span class="p">]</span><span class="w"> </span><span class="c1"># You can finish this task in a more intuitive way</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2020</li><li>2012</li><li>2024</li></ol>
</div></div>
</div>
<p>Operators like <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> can only work with number, what if we have characters? try: <code class="docutils literal notranslate"><span class="pre">%in%</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">v2</span><span class="p">[</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Ned&quot;</span><span class="p">,</span><span class="s">&quot;Unknown&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">]</span><span class="w">  </span><span class="c1"># So this will only display the v2 with value &#39;Ned&#39;, &quot;Unknown&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>MyName</dt><dd>'Ned'</dd><dt>MyAge</dt><dd>'Unknown'</dd></dl>
</div></div>
</div>
</section>
<section id="matrices-and-arrays">
<h3>2.2.2 Matrices and arrays<a class="headerlink" href="#matrices-and-arrays" title="Link to this heading">#</a></h3>
<p>A R “matrix” is a 2 dimensional vector (has both rows and columns). On the other word, the matrix is built on the top of vector.</p>
<p>Try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">1</span><span class="o">:</span><span class="m">36</span><span class="w"> </span><span class="c1"># you can generate a series of number by &quot;start:end&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li><li>31</li><li>32</li><li>33</li><li>34</li><li>35</li><li>36</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="n">length.out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">36</span><span class="p">)</span><span class="w"> </span><span class="c1"># or you can generate a more complicated series sequence by using seq()function, try ?seq()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>3.82857142857143</li><li>6.65714285714286</li><li>9.48571428571429</li><li>12.3142857142857</li><li>15.1428571428571</li><li>17.9714285714286</li><li>20.8</li><li>23.6285714285714</li><li>26.4571428571429</li><li>29.2857142857143</li><li>32.1142857142857</li><li>34.9428571428571</li><li>37.7714285714286</li><li>40.6</li><li>43.4285714285714</li><li>46.2571428571429</li><li>49.0857142857143</li><li>51.9142857142857</li><li>54.7428571428571</li><li>57.5714285714286</li><li>60.4</li><li>63.2285714285714</li><li>66.0571428571429</li><li>68.8857142857143</li><li>71.7142857142857</li><li>74.5428571428571</li><li>77.3714285714286</li><li>80.2</li><li>83.0285714285714</li><li>85.8571428571429</li><li>88.6857142857143</li><li>91.5142857142857</li><li>94.3428571428571</li><li>97.1714285714286</li><li>100</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="n">length.out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">36</span><span class="p">),</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w"> </span><span class="c1"># place the vector by</span>
<span class="n">my.mat1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 6 of type dbl</caption>
<tbody>
	<tr><td> 1.000000</td><td>17.97143</td><td>34.94286</td><td>51.91429</td><td>68.88571</td><td> 85.85714</td></tr>
	<tr><td> 3.828571</td><td>20.80000</td><td>37.77143</td><td>54.74286</td><td>71.71429</td><td> 88.68571</td></tr>
	<tr><td> 6.657143</td><td>23.62857</td><td>40.60000</td><td>57.57143</td><td>74.54286</td><td> 91.51429</td></tr>
	<tr><td> 9.485714</td><td>26.45714</td><td>43.42857</td><td>60.40000</td><td>77.37143</td><td> 94.34286</td></tr>
	<tr><td>12.314286</td><td>29.28571</td><td>46.25714</td><td>63.22857</td><td>80.20000</td><td> 97.17143</td></tr>
	<tr><td>15.142857</td><td>32.11429</td><td>49.08571</td><td>66.05714</td><td>83.02857</td><td>100.00000</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>you can order the elements of a matrix by row instead of column (default).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="n">length.out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">36</span><span class="p">),</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="c1"># have a close look at the element order within the matrix above and below.</span>
<span class="n">my.mat1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 6 of type dbl</caption>
<tbody>
	<tr><td> 1.00000</td><td> 3.828571</td><td> 6.657143</td><td> 9.485714</td><td>12.31429</td><td> 15.14286</td></tr>
	<tr><td>17.97143</td><td>20.800000</td><td>23.628571</td><td>26.457143</td><td>29.28571</td><td> 32.11429</td></tr>
	<tr><td>34.94286</td><td>37.771429</td><td>40.600000</td><td>43.428571</td><td>46.25714</td><td> 49.08571</td></tr>
	<tr><td>51.91429</td><td>54.742857</td><td>57.571429</td><td>60.400000</td><td>63.22857</td><td> 66.05714</td></tr>
	<tr><td>68.88571</td><td>71.714286</td><td>74.542857</td><td>77.371429</td><td>80.20000</td><td> 83.02857</td></tr>
	<tr><td>85.85714</td><td>88.685714</td><td>91.514286</td><td>94.342857</td><td>97.17143</td><td>100.00000</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dim</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w"> </span><span class="c1">#get the size of the matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>6</li><li>6</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">colMeans</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w"> </span><span class="c1"># get the means for each column, similarly try rowMeans()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>43.4285714285714</li><li>46.2571428571429</li><li>49.0857142857143</li><li>51.9142857142857</li><li>54.7428571428571</li><li>57.5714285714286</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">log</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w">  </span><span class="c1"># log() can also work in Matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 6 of type dbl</caption>
<tbody>
	<tr><td>0.000000</td><td>1.342492</td><td>1.895690</td><td>2.249787</td><td>2.510760</td><td>2.717529</td></tr>
	<tr><td>2.888783</td><td>3.034953</td><td>3.162457</td><td>3.275526</td><td>3.377100</td><td>3.469301</td></tr>
	<tr><td>3.553714</td><td>3.631553</td><td>3.703768</td><td>3.771118</td><td>3.834216</td><td>3.893568</td></tr>
	<tr><td>3.949594</td><td>4.002647</td><td>4.053026</td><td>4.100989</td><td>4.146756</td><td>4.190520</td></tr>
	<tr><td>4.232449</td><td>4.272690</td><td>4.311374</td><td>4.348618</td><td>4.384524</td><td>4.419185</td></tr>
	<tr><td>4.452685</td><td>4.485099</td><td>4.516495</td><td>4.546936</td><td>4.576477</td><td>4.605170</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>like R vectors, R will do the same sort of type homogenization as R vectors.</p>
<p>Try inserting a text value in <code class="docutils literal notranslate"><span class="pre">my.mat1</span></code>and see what happens:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w"> </span><span class="c1"># str() function can be used to display the data types within the matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> num [1:6, 1:6] 1 18 34.9 51.9 68.9 ...
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat1</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;one&quot;</span>
<span class="n">my.mat1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 6 of type chr</caption>
<tbody>
	<tr><td>one             </td><td>3.82857142857143</td><td>6.65714285714286</td><td>9.48571428571429</td><td>12.3142857142857</td><td>15.1428571428571</td></tr>
	<tr><td>17.9714285714286</td><td>20.8            </td><td>23.6285714285714</td><td>26.4571428571429</td><td>29.2857142857143</td><td>32.1142857142857</td></tr>
	<tr><td>34.9428571428571</td><td>37.7714285714286</td><td>40.6            </td><td>43.4285714285714</td><td>46.2571428571429</td><td>49.0857142857143</td></tr>
	<tr><td>51.9142857142857</td><td>54.7428571428571</td><td>57.5714285714286</td><td>60.4            </td><td>63.2285714285714</td><td>66.0571428571429</td></tr>
	<tr><td>68.8857142857143</td><td>71.7142857142857</td><td>74.5428571428571</td><td>77.3714285714286</td><td>80.2            </td><td>83.0285714285714</td></tr>
	<tr><td>85.8571428571429</td><td>88.6857142857143</td><td>91.5142857142857</td><td>94.3428571428571</td><td>97.1714285714286</td><td>100             </td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w"> </span><span class="c1"># str() function can be used to display the data types within the matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> chr [1:6, 1:6] &quot;one&quot; &quot;17.9714285714286&quot; &quot;34.9428571428571&quot; ...
</pre></div>
</div>
</div>
</div>
<p>inserting a string in one location converted all the elements of the matrix to the <code class="docutils literal notranslate"><span class="pre">chr</span></code> (string) data type.</p>
<p>Wait a minute! What if I want to add a new column to the matrix? Let’s try</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">column_to_add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="s">&quot;D&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="n">length.out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">36</span><span class="p">),</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="c1"># Create a matrix</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> num [1:6, 1:6] 1 18 34.9 51.9 68.9 ...
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">cbind</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">,</span><span class="w"> </span><span class="n">column_to_add</span><span class="p">)</span><span class="w"> </span><span class="c1"># cbind means Take a sequence of vector, matrix or data-frame arguments and combine by columns. Try rbind() for combine by rows.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my.mat2</span><span class="p">)</span><span class="w"> </span><span class="c1"># look at the first line</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> chr [1:6, 1:7] &quot;1&quot; &quot;17.9714285714286&quot; &quot;34.9428571428571&quot; ...
 - attr(*, &quot;dimnames&quot;)=List of 2
  ..$ : NULL
  ..$ : chr [1:7] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 7 of type chr</caption>
<thead>
	<tr><th scope=col></th><th scope=col></th><th scope=col></th><th scope=col></th><th scope=col></th><th scope=col></th><th scope=col>column_to_add</th></tr>
</thead>
<tbody>
	<tr><td>1               </td><td>3.82857142857143</td><td>6.65714285714286</td><td>9.48571428571429</td><td>12.3142857142857</td><td>15.1428571428571</td><td>A</td></tr>
	<tr><td>17.9714285714286</td><td>20.8            </td><td>23.6285714285714</td><td>26.4571428571429</td><td>29.2857142857143</td><td>32.1142857142857</td><td>B</td></tr>
	<tr><td>34.9428571428571</td><td>37.7714285714286</td><td>40.6            </td><td>43.4285714285714</td><td>46.2571428571429</td><td>49.0857142857143</td><td>C</td></tr>
	<tr><td>51.9142857142857</td><td>54.7428571428571</td><td>57.5714285714286</td><td>60.4            </td><td>63.2285714285714</td><td>66.0571428571429</td><td>D</td></tr>
	<tr><td>68.8857142857143</td><td>71.7142857142857</td><td>74.5428571428571</td><td>77.3714285714286</td><td>80.2            </td><td>83.0285714285714</td><td>E</td></tr>
	<tr><td>85.8571428571429</td><td>88.6857142857143</td><td>91.5142857142857</td><td>94.3428571428571</td><td>97.1714285714286</td><td>100             </td><td>F</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># log(my.mat2[1,1]) # try use this code to test whether you can do calculation on this character matrix</span>
</pre></div>
</div>
</div>
</div>
<p>Ok, our matrix <code class="docutils literal notranslate"><span class="pre">my.mat2</span></code> all transfered from numeric into character (string) at this moment. As character can not be used for calculation, what if we want to retain this <code class="docutils literal notranslate"><span class="pre">column_to_add</span></code> in the data without changing the other numeric data type? This will be solved in the next sections 2.2.3.</p>
</section>
<section id="data-frames">
<h3>2.2.3 Data frames<a class="headerlink" href="#data-frames" title="Link to this heading">#</a></h3>
<p>Data frames are a fundamental and versatile data structure in R, offering a crucial advantage over matrices and vectors. Unlike matrices and vectors, R data frames can accommodate heterogeneous data types in each column, such as numeric values, strings, and boolean values, or even a mix of these data types, resembling the structure of a typical spreadsheet. As a result, data frames have become a cornerstone in R programming, widely utilized by statistical analysis and plotting functions as well as various packages within the R ecosystem.</p>
<p>Let’s build and manipulate a dataframe. First create three vectors:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">column1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="n">column1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">column2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">),</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="c1"># function rep() can be used to repeat an input for several times. try ?rep()</span>
<span class="n">column2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'A'</li><li>'A'</li><li>'A'</li><li>'A'</li><li>'A'</li><li>'C'</li><li>'C'</li><li>'C'</li><li>'C'</li><li>'C'</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">set.seed</span><span class="p">(</span><span class="m">2024</span><span class="p">)</span><span class="w"> </span><span class="c1"># seed for random numbers</span>
<span class="n">column3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="w"> </span><span class="nf">rnorm</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.8</span><span class="p">,</span><span class="n">sd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.5</span><span class="p">),</span><span class="w"> </span><span class="nf">rnorm</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="n">sd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1"># 10 random numbers from two different normal distribution</span>
<span class="n">column3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>4.27295411702566</li><li>3.50307256005413</li><li>2.63804300167533</li><li>2.48068274654319</li><li>4.53714768255899</li><li>3.29235484543788</li><li>2.53464714613231</li><li>1.87296528079572</li><li>0.775124585530932</li><li>0.878648697839709</li></ol>
</div></div>
</div>
<p>Now combine them into a dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span><span class="n">column1</span><span class="p">,</span><span class="w"> </span><span class="n">column2</span><span class="p">,</span><span class="w"> </span><span class="n">column3</span><span class="p">)</span>
<span class="n">my.df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 10 × 3</caption>
<thead>
	<tr><th scope=col>column1</th><th scope=col>column2</th><th scope=col>column3</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 1</td><td>A</td><td>4.2729541</td></tr>
	<tr><td> 2</td><td>A</td><td>3.5030726</td></tr>
	<tr><td> 3</td><td>A</td><td>2.6380430</td></tr>
	<tr><td> 4</td><td>A</td><td>2.4806827</td></tr>
	<tr><td> 5</td><td>A</td><td>4.5371477</td></tr>
	<tr><td> 6</td><td>C</td><td>3.2923548</td></tr>
	<tr><td> 7</td><td>C</td><td>2.5346471</td></tr>
	<tr><td> 8</td><td>C</td><td>1.8729653</td></tr>
	<tr><td> 9</td><td>C</td><td>0.7751246</td></tr>
	<tr><td>10</td><td>C</td><td>0.8786487</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>You can easily assign names to the columns of dataframes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">names</span><span class="p">(</span><span class="n">my.df</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;MyFirstColumn&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Second Column&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My.Third.Column&quot;</span><span class="p">)</span>
<span class="n">my.df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 10 × 3</caption>
<thead>
	<tr><th scope=col>MyFirstColumn</th><th scope=col>My Second Column</th><th scope=col>My.Third.Column</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 1</td><td>A</td><td>4.2729541</td></tr>
	<tr><td> 2</td><td>A</td><td>3.5030726</td></tr>
	<tr><td> 3</td><td>A</td><td>2.6380430</td></tr>
	<tr><td> 4</td><td>A</td><td>2.4806827</td></tr>
	<tr><td> 5</td><td>A</td><td>4.5371477</td></tr>
	<tr><td> 6</td><td>C</td><td>3.2923548</td></tr>
	<tr><td> 7</td><td>C</td><td>2.5346471</td></tr>
	<tr><td> 8</td><td>C</td><td>1.8729653</td></tr>
	<tr><td> 9</td><td>C</td><td>0.7751246</td></tr>
	<tr><td>10</td><td>C</td><td>0.8786487</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>And unlike matrices, you can access the contents of data frames by naming the columns directly using a $ sign:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.df</span><span class="o">$</span><span class="n">MyFirstColumn</span><span class="w"> </span><span class="c1"># try `TAB` to complete the column name as well</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div></div>
</div>
<p>And also, you can replace that column name using the <code class="docutils literal notranslate"><span class="pre">colnames</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">colnames</span><span class="p">(</span><span class="n">my.df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'MyFirstColumn'</li><li>'My Second Column'</li><li>'My.Third.Column'</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">colnames</span><span class="p">(</span><span class="n">my.df</span><span class="p">)[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Sample_ID&quot;</span>
<span class="nf">colnames</span><span class="p">(</span><span class="n">my.df</span><span class="p">)[</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Group&quot;</span>
<span class="nf">colnames</span><span class="p">(</span><span class="n">my.df</span><span class="p">)[</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;Value&quot;</span>
<span class="n">my.df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 10 × 3</caption>
<thead>
	<tr><th scope=col>Sample_ID</th><th scope=col>Group</th><th scope=col>Value</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 1</td><td>A</td><td>4.2729541</td></tr>
	<tr><td> 2</td><td>A</td><td>3.5030726</td></tr>
	<tr><td> 3</td><td>A</td><td>2.6380430</td></tr>
	<tr><td> 4</td><td>A</td><td>2.4806827</td></tr>
	<tr><td> 5</td><td>A</td><td>4.5371477</td></tr>
	<tr><td> 6</td><td>C</td><td>3.2923548</td></tr>
	<tr><td> 7</td><td>C</td><td>2.5346471</td></tr>
	<tr><td> 8</td><td>C</td><td>1.8729653</td></tr>
	<tr><td> 9</td><td>C</td><td>0.7751246</td></tr>
	<tr><td>10</td><td>C</td><td>0.8786487</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>You can also access elements by using numerical indexing:  That is, you asked R to return values of <code class="docutils literal notranslate"><span class="pre">my.df</span></code> in all Rows (therefore, nothing before the comma), and the first column (<code class="docutils literal notranslate"><span class="pre">1</span></code> after the comma).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.df</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ol>
</div></div>
</div>
<p>You can also add numeric index (1, as the first row) to get the first row, first column element.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.df</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">1</div></div>
</div>
<p>Instead of the numeric index, you could also use the name as the index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.df</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Group&quot;</span><span class="p">,</span><span class="s">&quot;Value&quot;</span><span class="p">)]</span><span class="w"> </span><span class="c1"># show two specific columns only</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 10 × 2</caption>
<thead>
	<tr><th scope=col>Group</th><th scope=col>Value</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>A</td><td>4.2729541</td></tr>
	<tr><td>A</td><td>3.5030726</td></tr>
	<tr><td>A</td><td>2.6380430</td></tr>
	<tr><td>A</td><td>2.4806827</td></tr>
	<tr><td>A</td><td>4.5371477</td></tr>
	<tr><td>C</td><td>3.2923548</td></tr>
	<tr><td>C</td><td>2.5346471</td></tr>
	<tr><td>C</td><td>1.8729653</td></tr>
	<tr><td>C</td><td>0.7751246</td></tr>
	<tr><td>C</td><td>0.8786487</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>You can check whether a particular object is a dataframe data structure with:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">class</span><span class="p">(</span><span class="n">my.df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'data.frame'</div></div>
</div>
<p>You can check the structure of a dataframe with <code class="docutils literal notranslate"><span class="pre">str()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my.df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;data.frame&#39;:	10 obs. of  3 variables:
 $ Sample_ID: num  1 2 3 4 5 6 7 8 9 10
 $ Group    : chr  &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ...
 $ Value    : num  4.27 3.5 2.64 2.48 4.54 ...
</pre></div>
</div>
</div>
</div>
<p>You can print the column names and top few rows with <code class="docutils literal notranslate"><span class="pre">head()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">head</span><span class="p">(</span><span class="n">my.df</span><span class="p">)</span><span class="w"> </span><span class="c1"># try get the bottom few rows with `tail()`:</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 6 × 3</caption>
<thead>
	<tr><th></th><th scope=col>Sample_ID</th><th scope=col>Group</th><th scope=col>Value</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>1</td><td>A</td><td>4.272954</td></tr>
	<tr><th scope=row>2</th><td>2</td><td>A</td><td>3.503073</td></tr>
	<tr><th scope=row>3</th><td>3</td><td>A</td><td>2.638043</td></tr>
	<tr><th scope=row>4</th><td>4</td><td>A</td><td>2.480683</td></tr>
	<tr><th scope=row>5</th><td>5</td><td>A</td><td>4.537148</td></tr>
	<tr><th scope=row>6</th><td>6</td><td>C</td><td>3.292355</td></tr>
</tbody>
</table>
</div></div>
</div>
<section id="formula-used-in-r">
<h4>Formula used in R<a class="headerlink" href="#formula-used-in-r" title="Link to this heading">#</a></h4>
<p>In R, a formula is a symbolic representation of a statistical model or a relationship between variables</p>
<p>A typical formula looks like:
<em>response_variable ~ predictor_variable1 + predictor_variable2 + …</em></p>
<p>Here, the <code class="docutils literal notranslate"><span class="pre">~</span></code> symbol separates the response variable (dependent variable) from the predictor variables (independent variables). The <code class="docutils literal notranslate"><span class="pre">+</span></code> symbol is used to specify multiple predictor variables in the formula.</p>
<p>If we consider each row in our <code class="docutils literal notranslate"><span class="pre">my.df</span></code> dataframe as a sample observation, with the Group column denoting the type of treatment received and the Value column representing the final measurement of the response variable, how can we determine the significance of the treatment effect?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">wilcox.test</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">~</span><span class="w">  </span><span class="n">Group</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my.df</span><span class="p">)</span><span class="w"> </span><span class="c1"># When we set alpha = 0.05, you find no significant difference between Group A, Group C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>	Wilcoxon rank sum exact test

data:  Value by Group
W = 22, p-value = 0.05556
alternative hypothesis: true location shift is not equal to 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">boxplot</span><span class="p">(</span><span class="n">formula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">~</span><span class="w">  </span><span class="n">Group</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my.df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/e211aef045f1cec127828c58664144c265a4f09fac4431450cfe9ed33032e3e4.png"><img alt="_images/e211aef045f1cec127828c58664144c265a4f09fac4431450cfe9ed33032e3e4.png" src="_images/e211aef045f1cec127828c58664144c265a4f09fac4431450cfe9ed33032e3e4.png" style="width: 420px; height: 420px;" /></a>
</div>
</div>
</section>
<section id="case-exercise-2-the-first-statistics">
<h4>Case Exercise 2. The first statistics<a class="headerlink" href="#case-exercise-2-the-first-statistics" title="Link to this heading">#</a></h4>
<p>After careful review, your superviser recommanded you to do a parametric test (student’s t test) rather than a rank-based non-parametric test (wilcox’s test). Why it is reasonable? How to do it in R?  (clue: ?t.test() ?shapiro.test())</p>
</section>
</section>
<section id="lists">
<h3>2.2.4 Lists<a class="headerlink" href="#lists" title="Link to this heading">#</a></h3>
<p>List is another important data structure widely used in R. Essentially, a list functions as a structured assembly of objects, allowing for the inclusion of different types of variables and data entities  (e.g., you can put dataframe and vector together) in a specific <em>order</em>.</p>
<p>Try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">genus</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Bifidobacterium&quot;</span><span class="p">,</span><span class="s">&quot;Akkermansia&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">rel_abundance</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">20</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">))</span>
<span class="n">my.list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><dl>
	<dt>$genus</dt>
		<dd><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'Bifidobacterium'</li><li>'Akkermansia'</li></ol>
</dd>
	<dt>$rel_abundance</dt>
		<dd><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>20</li><li>10</li></ol>
</dd>
</dl>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.list</span><span class="p">[[</span><span class="s">&quot;genus&quot;</span><span class="p">]]</span><span class="w"> </span><span class="c1"># Get the list item by using nested square brackets </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'Bifidobacterium'</li><li>'Akkermansia'</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.list</span><span class="o">$</span><span class="n">genus</span><span class="w"> </span><span class="c1"># or do it this way. Quite similar to those in dataframe, right?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'Bifidobacterium'</li><li>'Akkermansia'</li></ol>
</div></div>
</div>
<p>Or, you can access contents of a list item using the list order index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.list</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'Bifidobacterium'</li><li>'Akkermansia'</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.list</span><span class="p">[[</span><span class="m">1</span><span class="p">]][</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="c1"># remeber, each elements of my.list is vector, therefore, we can apply the rule of vector to it</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'Bifidobacterium'</div></div>
</div>
<p>Maybe, you will have a guess now that dataframe object is actually a data structure built upon list object</p>
</section>
<section id="matrix-vs-dataframe">
<h3>2.2.5 Matrix vs Dataframe<a class="headerlink" href="#matrix-vs-dataframe" title="Link to this heading">#</a></h3>
<p>While data frames offer considerable flexibility and convenience for statistical analyses, plotting, and data output in R, there are instances where utilizing R matrices becomes necessary due to performance considerations. Data frames may exhibit decreased efficiency when large-scale mathematical computations or operations, such as matrix-vector multiplications or other linear algebra tasks, need to be executed. In such scenarios, converting a data frame to a matrix can significantly enhance computational speed and efficiency.</p>
<p>To see the difference in memory usage of matrices vs dataframes, try this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="n">length.out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">36</span><span class="p">),</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">my.mat1</span><span class="w"> </span><span class="c1"># Again, create one matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A matrix: 6 × 6 of type dbl</caption>
<tbody>
	<tr><td> 1.00000</td><td> 3.828571</td><td> 6.657143</td><td> 9.485714</td><td>12.31429</td><td> 15.14286</td></tr>
	<tr><td>17.97143</td><td>20.800000</td><td>23.628571</td><td>26.457143</td><td>29.28571</td><td> 32.11429</td></tr>
	<tr><td>34.94286</td><td>37.771429</td><td>40.600000</td><td>43.428571</td><td>46.25714</td><td> 49.08571</td></tr>
	<tr><td>51.91429</td><td>54.742857</td><td>57.571429</td><td>60.400000</td><td>63.22857</td><td> 66.05714</td></tr>
	<tr><td>68.88571</td><td>71.714286</td><td>74.542857</td><td>77.371429</td><td>80.20000</td><td> 83.02857</td></tr>
	<tr><td>85.85714</td><td>88.685714</td><td>91.514286</td><td>94.342857</td><td>97.17143</td><td>100.00000</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my.mat12df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.data.frame</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span>
<span class="n">my.mat12df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 6 × 6</caption>
<thead>
	<tr><th scope=col>V1</th><th scope=col>V2</th><th scope=col>V3</th><th scope=col>V4</th><th scope=col>V5</th><th scope=col>V6</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 1.00000</td><td> 3.828571</td><td> 6.657143</td><td> 9.485714</td><td>12.31429</td><td> 15.14286</td></tr>
	<tr><td>17.97143</td><td>20.800000</td><td>23.628571</td><td>26.457143</td><td>29.28571</td><td> 32.11429</td></tr>
	<tr><td>34.94286</td><td>37.771429</td><td>40.600000</td><td>43.428571</td><td>46.25714</td><td> 49.08571</td></tr>
	<tr><td>51.91429</td><td>54.742857</td><td>57.571429</td><td>60.400000</td><td>63.22857</td><td> 66.05714</td></tr>
	<tr><td>68.88571</td><td>71.714286</td><td>74.542857</td><td>77.371429</td><td>80.20000</td><td> 83.02857</td></tr>
	<tr><td>85.85714</td><td>88.685714</td><td>91.514286</td><td>94.342857</td><td>97.17143</td><td>100.00000</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">object.size</span><span class="p">(</span><span class="n">my.mat1</span><span class="p">)</span><span class="w"> </span><span class="c1"># returns size of an R object (variable) in bytes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>504 bytes
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">object.size</span><span class="p">(</span><span class="n">my.mat12df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1616 bytes
</pre></div>
</div>
</div>
</div>
<p>Quite a big difference!</p>
</section>
</section>
<section id="preparing-for-your-first-complex-coding-mission">
<h2>2.3 Preparing for your first complex coding mission<a class="headerlink" href="#preparing-for-your-first-complex-coding-mission" title="Link to this heading">#</a></h2>
<p>We will equiped you with more utlis for more complex mission.</p>
<section id="importing-and-exporting-data">
<h3>2.3.1 Importing and Exporting Data<a class="headerlink" href="#importing-and-exporting-data" title="Link to this heading">#</a></h3>
<p>The first step of your analysis is to import your data into R. R have many utlies to import real data into the R workspace. Most frequently, you will see data stored with excel, stored with the comma separated value (csv), or stored with the tab separated value (tsv).</p>
<p>Use the previously downloaded <code class="docutils literal notranslate"><span class="pre">document</span></code> in chapter 1. Go to case 3, find align_seq_data.csv.</p>
<p>Use the function <code class="docutils literal notranslate"><span class="pre">read.csv</span></code>(or <code class="docutils literal notranslate"><span class="pre">read.table</span></code>) to import your data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my_first_import</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;../document/case3/align_seq_data.csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1"># header = F means we donot want any rows be treated as header </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my_first_import</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 3 × 2</caption>
<thead>
	<tr><th scope=col>V1</th><th scope=col>V2</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>seq3</td><td>TACGGG          </td></tr>
	<tr><td>seq2</td><td>ATCGCCGGATTACGGG</td></tr>
	<tr><td>seq1</td><td>CAATTCGGAT      </td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">my_first_import</span><span class="p">)</span><span class="w"> </span><span class="c1"># regular check</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;data.frame&#39;:	3 obs. of  2 variables:
 $ V1: chr  &quot;seq3&quot; &quot;seq2&quot; &quot;seq1&quot;
 $ V2: chr  &quot;TACGGG&quot; &quot;ATCGCCGGATTACGGG&quot; &quot;CAATTCGGAT&quot;
</pre></div>
</div>
</div>
</div>
<p>Writing to and saving files, with write.csv()</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">write.csv</span><span class="p">(</span><span class="n">my_first_import</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;../document/case3/my_first_export.csv&quot;</span><span class="p">)</span><span class="w">  </span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check your exported file, you should have noticed something difference between import and export, while they should be the same. How to figure it out? (clue: ?write.csv())</p>
</div>
</section>
<section id="flow-control">
<h3>2.3.2 Flow control<a class="headerlink" href="#flow-control" title="Link to this heading">#</a></h3>
<p>Assuming your mum ask you to buy some vegetables for today’s dinner.
— “Hey Ned, could you please grab some tomatoes? If they happen to be out of stock, no worries—just pick up some pumpkins instead!” This is actually indentical to one of the Flow control used in R, that is, <code class="docutils literal notranslate"><span class="pre">if-else</span></code> statement.</p>
<p>in this section, we introduce three key programming concepts: <code class="docutils literal notranslate"><span class="pre">if-else</span></code> statement, for-loops, and functions</p>
<section id="if-else-statement">
<h4>2.3.2.1 If-else statement<a class="headerlink" href="#if-else-statement" title="Link to this heading">#</a></h4>
<p>Let’s write a simple statement:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">vege_in_stock</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;tomatoes&quot;</span>
<span class="nf">if </span><span class="p">(</span><span class="s">&quot;tomatoes&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1"># ==: Equals. Remeber that &quot;=&quot; is not Equal in R.</span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;We got tomatoes!&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;We got pumpkins...&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;We got tomatoes!&quot;
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If-else statement only accept the condition (i.e TRUE or FALSE) of length 1. For example, if we want to search whether pumpkins can be found in the store. We can do <code class="docutils literal notranslate"><span class="pre">c(&quot;tomatoes&quot;,&quot;pumpkins&quot;)</span> <span class="pre">%in%</span> <span class="pre">vege_in_stock</span></code>. The results will return <code class="docutils literal notranslate"><span class="pre">c(TRUE,</span> <span class="pre">FALSE)</span></code>, indicating we can find “pumpkins” and can not find “tomatoes”. At this time, we need to revise our code by adding either <code class="docutils literal notranslate"><span class="pre">all()</span></code> or  <code class="docutils literal notranslate"><span class="pre">any</span></code>.</p>
</div>
<p>If you only want to buy tomatoes or pumpkins</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">if </span><span class="p">(</span><span class="nf">any</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;tomatoes&quot;</span><span class="p">,</span><span class="s">&quot;pumpkins&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="p">)){</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;yes, we can find either tomatoes or pumpkins&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="n">else</span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Nothing found&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;yes, we can find either tomatoes or pumpkins&quot;
</pre></div>
</div>
</div>
</div>
<p>if you want to make sure that tomatoes and pumpkins are both in stock</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">if </span><span class="p">(</span><span class="nf">all</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;tomatoes&quot;</span><span class="p">,</span><span class="s">&quot;pumpkins&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="p">)){</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;yes, we can find both tomatoes and pumpkins&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="n">else</span><span class="p">{</span>
<span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s">&quot;Sorry. you can not buy both veges from this store&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;Sorry. you can not buy both veges from this store&quot;
</pre></div>
</div>
</div>
</div>
<p>What if we do not have both tomatoes and pumpkins in stock? You have to buy something to eat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">vege_in_stock</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;beans&quot;</span>
<span class="nf">if </span><span class="p">(</span><span class="s">&quot;tomatoes&quot;</span><span class="w">  </span><span class="o">%in%</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1"># or use ==: Equals. Remeber that &quot;=&quot; is not Equal in R.</span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;We got tomatoes!&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="nf">if </span><span class="p">(</span><span class="s">&quot;pumpkins&quot;</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="w"> </span><span class="p">){</span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;We got pumpkins...&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;We can only buy&quot;</span><span class="p">,</span><span class="n">vege_in_stock</span><span class="p">))</span><span class="w"> </span><span class="c1"># paste() is used to glue a sequence of character together, and it can work in variables</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;We can only buy beans&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="for-loops">
<h4>2.3.2.2 For-loops<a class="headerlink" href="#for-loops" title="Link to this heading">#</a></h4>
<p>A loop is a sequence of statements which is specified once but which may be carried out several times in succession. Loops are useful when repeating a task over some range of input values.</p>
<p>Assuming again you are asked to buy vegetables. However, this time, you can buy vegetables from Three different stores. Your mum ask you to <strong>only</strong> buy tomatoes, as she is pretty sure, tomatoes should be available somewhere.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">vege_in_stock_store1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;pumpkins&quot;</span><span class="p">)</span>
<span class="n">vege_in_stock_store2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;beans&quot;</span><span class="p">,</span><span class="s">&quot;pumpkins&quot;</span><span class="p">)</span>
<span class="n">vege_in_stock_store3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;tomatoes&quot;</span><span class="p">,</span><span class="s">&quot;pumpkins&quot;</span><span class="p">)</span>
<span class="n">store_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">vege_in_stock_store1</span><span class="p">,</span><span class="w"> </span><span class="n">vege_in_stock_store2</span><span class="p">,</span><span class="n">vege_in_stock_store3</span><span class="p">)</span>
<span class="n">store_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><ol>
	<li>'pumpkins'</li>
	<li><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'beans'</li><li>'pumpkins'</li></ol>
</li>
	<li><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'tomatoes'</li><li>'pumpkins'</li></ol>
</li>
</ol>
</div></div>
</div>
<p>We want to repeat the same logic when we visit different stores, until we find the tomatoes, we can use for loop!
Remeber that we need to generate a sequence of the store we want to visit. We can use seq() at the moment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">seq</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">store_list</span><span class="p">))</span><span class="w"> </span><span class="c1"># We will interatively go to the first store and the second store, third store</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">for </span><span class="p">(</span><span class="n">shop_index</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">store_list</span><span class="p">))){</span><span class="w"> </span>
<span class="w">    </span><span class="n">vege_in_stock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">store_list</span><span class="p">[[</span><span class="n">shop_index</span><span class="p">]]</span><span class="w"> </span><span class="c1"># Get the vegetable in different stores from the list </span>
<span class="w">    </span><span class="nf">print </span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&#39;This is store&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">shop_index</span><span class="p">))</span>
<span class="w">    </span><span class="nf">if </span><span class="p">(</span><span class="w">  </span><span class="s">&quot;tomatoes&quot;</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">vege_in_stock</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;We got tomatoes!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">print </span><span class="p">(</span><span class="s">&quot;No tomatoes&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1] &quot;This is store 1&quot;
[1] &quot;No tomatoes&quot;
[1] &quot;This is store 2&quot;
[1] &quot;No tomatoes&quot;
[1] &quot;This is store 3&quot;
[1] &quot;We got tomatoes!&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="define-functions">
<h4>2.3.2.3 Define functions<a class="headerlink" href="#define-functions" title="Link to this heading">#</a></h4>
<p>You will use certain functions over and over, Like the function mean(). However, you will meet situation that no existing functions can be used. You can define functions by your self! A simple instance is BMI_index() in the Chapter 1. You can calculate the BMI for different and thousands of people repeatedly.</p>
<p>For demonstration purpose, let’s write a function that perform the exact function as mean(), that is to calculate the average for a vector:</p>
<p><code class="docutils literal notranslate"><span class="pre">function</span></code> tells R you are about to define a function. The general function looks like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">myfirstfunction_mean</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span><span class="w"> </span><span class="c1"># x is the input parameter, the code was writen within the { }. return() will return the result we want</span>
<span class="w">  </span><span class="n">sum_x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1"># sum of x</span>
<span class="w">  </span><span class="n">n_x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># total number of x </span>
<span class="w">  </span><span class="nf">return</span><span class="p">(</span><span class="n">sum_x</span><span class="o">/</span><span class="n">n_x</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Now myfirstfunction_mean is a function that computes the mean:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span>
<span class="nf">identical</span><span class="p">(</span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="nf">myfirstfunction_mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">TRUE</div></div>
</div>
<p>You can define more input parameter, use “,” to separate the parameter. You can set default values as well.
For example, the function below computes either the arithmetic or geometric mean depending on the user defined variables</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">myfirstfunction_mean</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">geometric</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">){</span><span class="w"> </span>
<span class="w">  </span><span class="nf">if</span><span class="p">(</span><span class="n">geometric</span><span class="p">){</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="nf">prod</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="w">  </span><span class="p">}</span><span class="n">else</span><span class="p">{</span>
<span class="w">    </span><span class="nf">return</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">myfirstfunction_mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1"># WITH DEFAULT SETTING, CALCULATE arithmetic mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">5.5</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">myfirstfunction_mean</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">geometric</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">4.52872868811677</div></div>
</div>
</section>
<section id="more">
<h4>More<a class="headerlink" href="#more" title="Link to this heading">#</a></h4>
<p>You will find more flow control tools, like <code class="docutils literal notranslate"><span class="pre">while</span></code> loop, <code class="docutils literal notranslate"><span class="pre">break</span></code> to stop the running proce within the for loop or while loop, <code class="docutils literal notranslate"><span class="pre">next</span></code> to skip the running process to next round.</p>
</section>
</section>
<section id="string-manipulation">
<h3>2.3.3 String manipulation<a class="headerlink" href="#string-manipulation" title="Link to this heading">#</a></h3>
<p>It is important to know how to handle strings in R for several reasons:</p>
<ul class="simple">
<li><p>In read world, data is always messy, you need to clean your text data by your self. For example, you have a list of telephone number joined with the name, and age, like c(“Peter_12345_19”,”Mary_20232_20”, …. ).</p></li>
<li><p>To generate appropriate text labels and titles for figures</p></li>
</ul>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Function</p></th>
<th class="head text-left"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">paste(x1,x2,sep=';')</span></code></p></td>
<td class="text-left"><p>Join the two strings using ‘;’</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">strsplit(x,';')</span></code></p></td>
<td class="text-left"><p>Split the string <code class="docutils literal notranslate"><span class="pre">x</span></code> at ‘;’</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">nchar(x)</span></code></p></td>
<td class="text-left"><p>Number of characters in string <code class="docutils literal notranslate"><span class="pre">x</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">toupper(x)</span></code></p></td>
<td class="text-left"><p>Set string <code class="docutils literal notranslate"><span class="pre">x</span></code> to upper case</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tolower(x)</span></code></p></td>
<td class="text-left"><p>Set string <code class="docutils literal notranslate"><span class="pre">x</span></code> to lower case</p></td>
</tr>
</tbody>
</table>
</div>
<p>Two of the most commonly used functions are paste() and strsplit()</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">text1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Peter_12345_19&quot;</span>
<span class="n">text2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Mary_20232_20&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">strsplit</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">#Split each character in the input string</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><ol>
	<li><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'P'</li><li>'e'</li><li>'t'</li><li>'e'</li><li>'r'</li><li>'_'</li><li>'1'</li><li>'2'</li><li>'3'</li><li>'4'</li><li>'5'</li><li>'_'</li><li>'1'</li><li>'9'</li></ol>
</li>
</ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">strsplit</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># Using strsplit() function with delimiter</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><ol>
	<li><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'Peter'</li><li>'12345'</li><li>'19'</li></ol>
</li>
</ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">length</span><span class="p">(</span><span class="nf">strsplit</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">1</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">paste</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;char1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;char3&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">collapse</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># For input of length &gt; 1. </span>
<span class="c1"># Join the three character together and put &quot;#&quot; as the delimiter</span>
<span class="c1"># In this case, we input on2 elements with length = 3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'char1#a#char3'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;1st&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2nd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3rd&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># For input of length 1, use the sep argument rather than collapse.</span>
<span class="c1"># In this case, we input three elements with length = 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'1st, 2nd, 3rd'</div></div>
</div>
</section>
<section id="case-exercise-3-dna-sequence-alignment">
<h3>Case Exercise 3. DNA Sequence alignment<a class="headerlink" href="#case-exercise-3-dna-sequence-alignment" title="Link to this heading">#</a></h3>
<p>The alignment algorithm is straightforward.</p>
<ol class="arabic simple">
<li><p>read the file in documents/case3/align_seqs_data.csv (hint: ?read.csv())</p></li>
<li><p>identify the shorter sequence (hint: length(), ifelse statement)</p></li>
<li><p>placing the start of the shorter sequence at every position (base) of the longer sequence (the starting position), and tally the number of matching bases downstream. (hint: for loop)</p></li>
<li><p>Next, for each starting position, calculate the “score” as the total number of matched bases. The alignment with the highest score is selected as the winner.</p></li>
</ol>
<p>In case of ties, any alignment with the highest score can be chosen, such as the first or last one.</p>
</section>
</section>
<section id="further-reading">
<h2>2.4 Further reading<a class="headerlink" href="#further-reading" title="Link to this heading">#</a></h2>
<p>Search online for “R tutorial”.</p>
<p>Explore more functionality by using different R packages designed for different purpose! <em>Remember, all R packages come with pdf guides/documentation!</em></p>
<section id="some-useful-r-packages">
<h3>Some useful R packages<a class="headerlink" href="#some-useful-r-packages" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Packages</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>tidyr</p></td>
<td class="text-left"><p>Used in data wrangling, provides functions like gather, spread, and separate, which facilitate the transformation of data between wide and long formats.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>dplyr</p></td>
<td class="text-left"><p>The dplyr package provides a concise and intuitive syntax for data manipulation tasks. Its functions, such as filter, select, mutate, and summarize, allow you to efficiently subset, transform, and summarize data frames.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>ggplot2</p></td>
<td class="text-left"><p>nice package for data visualization</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>stringr</p></td>
<td class="text-left"><p>string manipulation and text mining</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="some-useful-online-tutorial">
<h3>Some useful online tutorial<a class="headerlink" href="#some-useful-online-tutorial" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Source</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a></p></td>
<td class="text-left"><p>R for Data Science</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            name: "ir",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01-R-start.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 1. R: The Beginning of Your Data Journey</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-introduction">2.1 Basic Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-variables">2.1.1 R variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-name-your-variables">2.1.2 R name your variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-functions">2.1.3 R functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-data-types">2.1.4 R Data types</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r-vector-matrix-dataframe-lists">2.2 R Vector, Matrix, Dataframe, Lists</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectors">2.2.1 Vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrices-and-arrays">2.2.2 Matrices and arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-frames">2.2.3 Data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#formula-used-in-r">Formula used in R</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#case-exercise-2-the-first-statistics">Case Exercise 2. The first statistics</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">2.2.4 Lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrix-vs-dataframe">2.2.5 Matrix vs Dataframe</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-for-your-first-complex-coding-mission">2.3 Preparing for your first complex coding mission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-and-exporting-data">2.3.1 Importing and Exporting Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flow-control">2.3.2 Flow control</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#if-else-statement">2.3.2.1 If-else statement</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">2.3.2.2 For-loops</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#define-functions">2.3.2.3 Define functions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#more">More</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-manipulation">2.3.3 String manipulation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#case-exercise-3-dna-sequence-alignment">Case Exercise 3. DNA Sequence alignment</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-reading">2.4 Further reading</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-r-packages">Some useful R packages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-online-tutorial">Some useful online tutorial</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>